app.controller("homeController",function(e,t,n){e.eventMemberList=function(t){e.customisedInviteeList="",e.arrivedPpl=[];for(var n="",r=0;r<t.length;r++){var s=t[r].name;if(1==t.length){e.customisedInviteeList=s;break}if(t.length<=4){if(!t[r+1]){n+=" and "+s,e.customisedInviteeList=n;break}n+=s,t[r+2]&&(n+=", ")}else{if(!(3>=r)){var i=t.length-r;n+=" and "+i+" more",e.customisedInviteeList=n;break}n+=s,3>r&&(n+=", ")}}return e.customisedInviteeList},e.currentUser=n.getCurrentUser(),e.upcomingEvents=[];for(var r=0;r<e.currentUser.eventList.length;r++){"ACCEPTED"==e.currentUser.eventList[r].mystatus?e.currentUser.eventList[r].statusClass="accepted":"PENDING"==e.currentUser.eventList[r].mystatus?(e.currentUser.eventList[r].statusClass="pending",e.currentUser.eventList[r].customisedInviteeList=e.eventMemberList(e.currentUser.eventList[r].inviteeList)):e.currentUser.eventList[r].statusClass="rejected";var s=new Date(e.currentUser.eventList[r].eventDate);s>=new Date&&e.upcomingEvents.push(e.currentUser.eventList[r])}for(var r=0;r<e.currentUser.eventList.length;r++){var s=new Date(e.currentUser.eventList[r].eventDate);s.getDate()==(new Date).getDate()&&s.getMonth()==(new Date).getMonth()&&s.getFullYear()==(new Date).getFullYear()?e.currentUser.eventList[r].displayDate="Today":e.currentUser.eventList[r].displayDate=s}e.getEventDetails=function(e){n.setEventData(e),t.go("navigation")}});